<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Stable Diffusion &amp; Dreambooth profile picture | Suhaas</title>
    <meta name="author" content="Suhaas  ">
    <meta name="description" content="My approach trying to create a AI-generated profile picture, overview of tools used">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://spknash.github.io/blog/2024/stable-diffusion-profilepic/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Suhaas</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">Repositories</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Stable Diffusion &amp; Dreambooth profile picture</h1>
    <p class="post-meta">February 16, 2024</p>
    <p class="post-tags">
      <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>
        ·  
        <a href="/blog/tag/huggingface">
          <i class="fas fa-hashtag fa-sm"></i> HuggingFace,</a>  
          <a href="/blog/tag/diffusers">
          <i class="fas fa-hashtag fa-sm"></i> diffusers,</a>  
          <a href="/blog/tag/stable-diffusion">
          <i class="fas fa-hashtag fa-sm"></i> stable-diffusion,</a>  
          <a href="/blog/tag/dreambooth">
          <i class="fas fa-hashtag fa-sm"></i> dreambooth,</a>  
          <a href="/blog/tag/controlnet">
          <i class="fas fa-hashtag fa-sm"></i> controlnet</a>  
          

    </p>
  </header>

  <article class="post-content">
    
    <div id="markdown-content">
      <p>I want to create a profile picture for myself using stable diffusion. I’ve seen people online such as Abhishek Thakur and Max Howell use AI-generated profile pictures. The good ones that I’ve seen make the photo more interesting but preserve the subject’s core facial features. Below are some that I like.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/mahowellreall-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/mahowellreall-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/mahowellreall-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/mahowellreall.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/maxhowellAI-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/maxhowellAI-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/maxhowellAI-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/maxhowellAI.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Max Howell
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/AbhiREAL-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/AbhiREAL-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/AbhiREAL-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/AbhiREAL.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/AbhiAI-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/AbhiAI-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/AbhiAI-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/AbhiAI.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Abhishek Thakur
</div>

<p>To create my profile picture the first thing I did was do some research into what models are used to create these images. The most popular open-source models are the diffusion models released by <a href="https://stability.ai/" rel="external nofollow noopener" target="_blank">Stability AI</a> and <a href="https://app.runwayml.com/" rel="external nofollow noopener" target="_blank">runway ML</a>. The most recent of which is Stable Diffusion 3. Their older model Stable Diffusion XL is still being updated by the open-source community and is still considered the SOTA model by most.</p>

<h2 id="stable-diffusion">Stable Diffusion</h2>

<p>The first thing I tried out was vanilla stable diffusion text-to-image. The model I am using is Stable Diffusion XL (SDXL) I simply described my appearance to see what stable diffusion returned. Some results are below.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/zeroshot0-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/zeroshot0-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/zeroshot0-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/zeroshot0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/zeroshot2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/zeroshot2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/zeroshot2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/zeroshot2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/zeroshot3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/zeroshot3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/zeroshot3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/zeroshot3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: indian boy with curly hair, jawline, trimmed beard, smiling, dimples, pimple on cheek, in a forest, pixel art, colorful, vibrant, cheerful
</div>

<p>I obviously did not expect this method to give any output close to desirable because the model has no information about my appearance. Next, I tried using
the image-to-image pipeline of the model. The input image is an image of myself. Some results are below.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/im2im1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/im2im1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/im2im1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/im2im1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/im2im2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/im2im2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/im2im2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/im2im2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/im2im3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/im2im3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/im2im3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/im2im3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: smiling man, comic book style
</div>

<p>I expected these images to be better since the model has access to my face. However, the out-of-the-box image to image method is also not what I am looking for here.
The model seems to change many of my core facial features and it does not look like me at all. The model still does not retain information about the features of my face.
Since the out-of-box pipelines for SDXL do not give me what I want, I began researching how a model can learn a subject’s features. This research brought me to
Dreambooth.</p>

<h2 id="dreambooth">Dreambooth</h2>

<p>Dreambooth is a method to finetune a pretrained text-to-image model with a set of images of a subject along with captions including the subject’s unique identifier. The final model will
then be able to generate images including the subject when the unique identifier is used in the prompt. Below is the example used in the 2022 <a href="https://arxiv.org/abs/2208.12242" rel="external nofollow noopener" target="_blank">paper</a> which introduced Dreambooth.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/dreambooth-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/dreambooth-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/dreambooth-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/dreambooth.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
source: Google Research
</div>

<p>I first tried using the example included in the HuggingFace Diffusers library. I inputted my images along with their captions and began the training. Below are some of the results.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/bad1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/bad1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/bad1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/bad1.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/bad2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/bad2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/bad2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/bad2.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/bad3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/bad3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/bad3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/bad3.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, formal (added pencil sketch to last one)
</div>

<p>I was surprised by the low quality of these images, and I was initially unsure why these images were such low quality. I realized what the issue was when I used a different training script. I then used TheLastBen’s training script
and there were several things different about this training script. It encouraged creating a class images folder. The base class images are images of the class of the subject but not the subject itself. For this use case, I am the subject, so the class
would be a person. I generated class images using the prompt “portrait of a man, photorealistic”. Below are some of the results of this model.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/frizzy-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/frizzy-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/frizzy-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/frizzy.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, smiling
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/jungle-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/jungle-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/jungle-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/jungle.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, in jungle
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/indian-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/indian-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/indian-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/indian.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, indian
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk5-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk5-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk5-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk5.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/sajh-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/sajh-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/sajh-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/sajh.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, wearing sweatshirt
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk9-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk9-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk9-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk9.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk7-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk7-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk7-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk7.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, wearing sweatshirt, bubblegum background, punk
</div>

<p>These are much better! These images clearly show the core facial features of my face, unlike the previous scripts. The base classification images seem to help the model quite a bit. TheLastBen’s scripts also have many comments to understand what each of the parameters does.
Increasing the number of epochs of the training improved the quality of the images significantly as well.</p>

<p>I wanted to see if I could get the model to output a portrait of me in different styles. Below are some examples of pencil sketches, anime style, and comic book style.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/image-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/image-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/image-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/image.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, smiling, anime style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk3.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, smiling, comic book style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/another-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/another-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/another-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/another.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, smiling, pencil sketch
</div>

<p>These are not what I was hoping for! It seems the model is unable to switch to a different style and maintain the subject’s core features. When I prompt for anime style it simply outputs a typical anime character that does not look like me at all. 
I thought a possible reason may be the base class images. The class images show the model what kind of images it should produce. I trained a new model using pencil sketch pictures as the base class images. The results are below.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/closeup-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/closeup-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/closeup-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/closeup.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/muscular-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/muscular-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/muscular-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/muscular.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, wearing sweatshirt, bubblegum background, punk
</div>

<p>As you can see, these images are still not what I was hoping for. The subject does not look like me at all. Despite the model not working well for particular styles like “anime style” and “pencil sketch”, it does work very well for other styles like “punk”, “impressionist”, and “oil painting”. 
Some examples are below.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/dramatic2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/dramatic2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/dramatic2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/dramatic2.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/dramatic3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/dramatic3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/dramatic3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/dramatic3.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/dramatic5-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/dramatic5-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/dramatic5-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/dramatic5.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, oil painting, dramatic
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/punk4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/punk4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/punk4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/punk4.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, wearing sweatshirt, animated, punk
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/impressionist1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/impressionist1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/impressionist1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/impressionist1.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/impressionist2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/impressionist2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/impressionist2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/impressionist2.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/impressionist4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/impressionist4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/impressionist4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/impressionist4.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of jrdnpl man, 20 year old man, oil painting, impressionist
</div>

<p>I think these styles work because they are much closer to the styles present in the input images. All of the input images could be described as “photorealistic, hd”. To produce images in a specific style, it is possible to train stable diffusion on a style as well as a subject.
This could be promising and also very useful – If you see a style of animation you like you could potentially create your image in that style by training stable diffusion. Despite, some of these pictures turning out very well, there are some issues which are present in many of them.
In many photos, I am given elephant ears and my hair is usually very bushy. For a professional artist or someone who wants their image to be exactly a specific kind of way, it would be nice if you could take an image produced by stable diffusion and then modify it to your needs.
This is where a tool called ControlNet has a lot of potential.</p>

<h2 id="controlnet">ControlNet</h2>

<p>ControlNet is a method for controlling image diffusion models by providing the model with an image as a reference in the last few resolution steps. This method was originally introduced in a <a href="https://arxiv.org/abs/2302.05543" rel="external nofollow noopener" target="_blank">paper</a> published in February 2023. The most common use of ControlNet is with a Canny image. There are several other types of images you can feed into a ControlNet model
which are all very interesting like depth, segmentation, and human pose. But for my use case, I think Canny is the most appropriate.
A canny image is an image with only the edges turned on, all the other pixels are black. Below is an example of a canny image.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/Canny-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/Canny-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/Canny-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/Canny.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Source: Sofiane Sahir on medium
</div>

<p>The Canny image is fed into the model in the last few steps of resolution causing the output image to be very similar to the original image. By feeding in the Canny, the idea is that the model must conform to the core features of the original images, but has the freedom to create something original between the edges.
Below is an example where I use my image and then give the model the prompt “Mona Lisa”. The model will try to show me the Mona Lisa but it must conform to features of the canny image.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/ControlNetmona-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/ControlNetmona-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/ControlNetmona-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/ControlNetmona.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: Mona Lisa
</div>

<p>That worked decently well! Now I will try the thing I was interested in earlier. Try to make the portrait of myself but in an interesting animation style. Below are some initial results.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/ControlNetinit1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/ControlNetinit1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/ControlNetinit1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/ControlNetinit1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, anime style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/ControlNetinit2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/ControlNetinit2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/ControlNetinit2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/ControlNetinit2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, anime style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/ControlNetinit3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/ControlNetinit3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/ControlNetinit3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/ControlNetinit3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, comic book style
</div>

<p>Those are ok, and certainly much better than the Dreambooth results. Since many of these seem underdeveloped and without color I will increase the number of resolution steps to see if that makes an improvement.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/comicbook1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/comicbook1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/comicbook1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/comicbook1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, comic book style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/Controlnet2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/Controlnet2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/Controlnet2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/Controlnet2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, anime style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/Controlnet3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/Controlnet3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/Controlnet3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/Controlnet3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, anime style
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/Controlnet4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/Controlnet4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/Controlnet4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/Controlnet4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Prompt: portrait of a man, comic book style
</div>

<p>Ok! These are much better and quite good. There are many other ControlNet techniques I could try using but I’ll stop here for now and explore ControlNet further at a later time. There is no question that ControlNet is a very powerful technique.</p>

<h2 id="automatic1111">AUTOMATIC1111</h2>

<p>At the beginning of this process, I was calling the inference of the model using the HuggingFace Diffusers library in Colab. Although this was serviceable, it caused some difficulties and inconveniences. I had to check what parameters I could put into the pipeline function
and had to manually change the parameters in a way that was not very user-friendly. Eventually, I learned of different user interfaces that can be used for image generation workflows. The most popular one is called AUTOMATIC1111 or A1111 and it is a web-based UI that 
makes producing images and altering parameters much easier. There are other similar open-source UIs available but A1111 is by far the most popular. I had not heard of it before diving into this topic, but this project was one of the biggest open-source successes in the last year
with over 500 different contributors.</p>

<h2 id="conclusions">Conclusions</h2>

<p>Throughout this process of trying to create an interesting profile picture for myself, I became familiar with several very powerful tools and techniques. I used stable diffusion (SDXL) as the pretrained image generation model. I used Dreambooth to 
train stable diffusion on my face so I could use my face as a concept in new images. I also began using ControlNet to make modifications to generated images and have more control over the output. Simultaneously, I began using the A1111 user interface which is 
immensely useful in the image generation workflow. Based on my research and asking questions online, this is a very common stack of tools, and workflow to use among many AI art people. Of course, new techniques and tools are being added as we speak because the 
field is advancing so quickly. There is another popular technique called Segment Anything (SAM) from 2023 which is also very popular. Diffusion models for video generation and video editing are also advancing rapidly.</p>

<p>The advantage of all of the tools that I used is that they are open source. As long as you have access to a gpu you can use any of these techniques for free. A downside to these tools is their disjointedness and ease of use. It is certainly not straightforward how to proceed
if you are trying to create an AI image using only open-source software. There are closed-source solutions for AI art as well. The two major models which compete with Stable Diffusion are Midjourney and DALL-E. I have not tried either of these paid options and I do not know
if these platforms allow users to use Dreambooth and ControlNet in a user-friendly way. I would doubt it since both of these methods are still fairly new and there has not been enough time to integrate these methods into a smooth UI. It is also relevant to note that
many AI images that are customized or have specific requirements use open-source software because open-source methods allow for much more customization. They also allow you to use the newest image generation techniques such as ControlNet, and SAM without having to wait for a closed-source
platform to offer support. However, for general-purpose AI images – images that do not need to be in a specific style, or contain a specific subject – Midjourney and DALL-E can perform on par or better than Stable Diffusion. They are also much easier to use. For general use I would say they are all in the
same range of capability. Below are some images fromMidjourney v6, DALL-E 3, and Stable Diffusion 3 to compare.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/midjourneyv6-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/midjourneyv6-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/midjourneyv6-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/midjourneyv6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Modjourney v6 is known for the amount of detail, and realism of its images (Source: Ars Technica)
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/DallE3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/DallE3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/DallE3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/DallE3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
DallE3 showing nuclear war (Source: stable-diffusion-art.com)
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/profile-pic/sd3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/profile-pic/sd3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/profile-pic/sd3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/profile-pic/sd3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
Stable Diffusion 3 came out this week and touts it capability to include text in the image. The prompt for this image was: "Epic anime artwork of a wizard atop a mountain at night casting a cosmic spell into the dark sky that says 'Stable Diffusion 3' made out of colorful energy" (Source: Stability AI)
</div>

<p>Another important thing to note is that creating these images was not completely free of charge for me. I do not have a GPU so I bought 100 GPU hours for $10 on Google Colab. I trained a total of 4 models and did inference many times. After my usage the last
couple weeks I am left with 65.4 GPU hours. So my total cost for this post was $3.46.</p>

<p>For future work, I am very interested in diving deeper into the architecture of Stable Diffusion models, as well as exploring further how Dreambooth and ControlNet work. ControlNet especially seems to be a very promising technique since it gives so much control to the user. 
I will certainly continue playing around with ControlNet as I learn more about diffusers and image generation.</p>


    </div>
  </article>
</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Suhaas  . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
